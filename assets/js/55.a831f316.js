(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{825:function(t,e,n){"use strict";n.r(e);var r=n(48),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"generator-函数的语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generator-函数的语法"}},[t._v("#")]),t._v(" Generator 函数的语法")]),t._v(" "),n("ol",[n("li",[n("p",[n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#%E7%AE%80%E4%BB%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("简介"),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("调用 Generator 函数，返回一个遍历器对象，代表 Generator 函数的内部指针。以后，每次调用遍历器对象的"),n("code",[t._v("next")]),t._v("方法，就会返回一个有着"),n("code",[t._v("value")]),t._v("和"),n("code",[t._v("done")]),t._v("两个属性的对象。"),n("code",[t._v("value")]),t._v("属性表示当前的内部状态的值，是"),n("code",[t._v("yield")]),t._v("表达式后面那个表达式的值；"),n("code",[t._v("done")]),t._v("属性是一个布尔值，表示是否遍历结束。")])]),t._v(" "),n("p",[t._v("Generator 函数执行产生的上下文环境，一旦遇到"),n("code",[t._v("yield")]),t._v("命令，就会暂时退出堆栈，但是并不消失，里面的所有变量和对象会冻结在当前状态。等到对它执行"),n("code",[t._v("next")]),t._v("命令时，这个上下文环境又会重新加入调用栈，冻结的变量和对象恢复执行。")]),t._v(" "),n("p",[n("strong",[t._v("与 Iterator 接口的关系 "),n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#%E4%B8%8E-Iterator-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"}},[t._v("§"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("由于 Generator 函数就是遍历器生成函数，因此可以把 Generator 赋值给对象的"),n("code",[t._v("Symbol.iterator")]),t._v("属性，从而使得该对象具有 Iterator 接口。")]),t._v(" "),n("p",[t._v("Generator 函数执行后，返回一个遍历器对象。该对象本身也具有"),n("code",[t._v("Symbol.iterator")]),t._v("属性，执行后返回自身。")])]),t._v(" "),n("li",[n("p",[t._v("[next 方法的参数](https://es6.ruanyifeng.com/#docs/generator#next 方法的参数)")]),t._v(" "),n("p",[n("code",[t._v("yield")]),t._v("表达式本身没有返回值，或者说总是返回"),n("code",[t._v("undefined")]),t._v("。"),n("code",[t._v("next")]),t._v("方法可以带一个参数，该参数就会被当作上一个"),n("code",[t._v("yield")]),t._v("表达式的返回值。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 第一次调用next() 执行这部分的代码 */")]),t._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 第二次，参数 2 被当作第一个yield的返回值。第三、四次同理 */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 第三次 */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 第四次 */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a 2")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b 3")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// c 4")]),t._v("\n")])])]),n("p",[t._v("由于"),n("code",[t._v("next")]),t._v("方法的参数表示上一个"),n("code",[t._v("yield")]),t._v("表达式的返回值，所以在第一次使用"),n("code",[t._v("next")]),t._v("方法时，传递参数是无效的。")])]),t._v(" "),n("li",[n("p",[t._v("[for...of 循环](https://es6.ruanyifeng.com/#docs/generator#for...of 循环)")])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#Generator.prototype.throw()",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generator.prototype.throw()"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("可以在函数体外抛出错误，然后在 Generator 函数体内捕获。")])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#Generator.prototype.return()",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generator.prototype.return()"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("可以返回给定的值，并且终结遍历 Generator 函数。")])]),t._v(" "),n("li",[n("p",[t._v("[next()、throw()、return() 的共同点](https://es6.ruanyifeng.com/#docs/generator#next()、throw()、return() 的共同点)")])]),t._v(" "),n("li",[n("p",[t._v("[yield* 表达式](https://es6.ruanyifeng.com/#docs/generator#yield* 表达式)")]),t._v(" "),n("p",[t._v("用来在一个 Generator 函数里面执行另一个 Generator 函数。")])]),t._v(" "),n("li",[n("p",[t._v("[作为对象属性的 Generator 函数](https://es6.ruanyifeng.com/#docs/generator#作为对象属性的 Generator 函数)")]),t._v(" "),n("ol",[n("li",[t._v("Generator 函数返回的总是遍历器对象，而不是"),n("code",[t._v("this")]),t._v("对象。")]),t._v(" "),n("li",[t._v("Generator 函数也不能跟"),n("code",[t._v("new")]),t._v("命令一起用，会报错。")])])]),t._v(" "),n("li",[n("p",[t._v("[Generator 函数的this](https://es6.ruanyifeng.com/#docs/generator#Generator 函数的this)")])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#%E5%90%AB%E4%B9%89",target:"_blank",rel:"noopener noreferrer"}},[t._v("含义"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/generator#%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用"),n("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=s.exports}}]);