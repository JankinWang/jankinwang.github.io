(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{475:function(a,s,t){"use strict";t.r(s);var e=t(45),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"数据库-用户权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库-用户权限"}},[a._v("#")]),a._v(" 数据库+用户权限")]),a._v(" "),t("h2",{attrs:{id:"数据库操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作"}},[a._v("#")]),a._v(" 数据库操作")]),a._v(" "),t("h4",{attrs:{id:"连接数据库管理系统-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库管理系统-mysql"}},[a._v("#")]),a._v(" 连接数据库管理系统（mysql）")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mysql -h 127.0.0.1 -P 3306 -u root -p # 行尾不加`;`\n# -h 指定远程数据库访问地址\n# -P 指定数据库访问端口\n# -u 用户名\n# -p 是否需要密码验证没有参数\n")])])]),t("h4",{attrs:{id:"创建数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库"}},[a._v("#")]),a._v(" 创建数据库")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE DATABASE name; # 简单创建数据库\n#数据库选项：\n        CHARACTER SET charset_name # 选择数据库字符集\n        COLLATE collation_name # 字符校对规则\n")])])]),t("h4",{attrs:{id:"查看已有库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看已有库"}},[a._v("#")]),a._v(" 查看已有库")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SHOW DATABASES [ LIKE 'PATTERN']; # 数据库名支持模糊查找\n")])])]),t("h4",{attrs:{id:"选择数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择数据库"}},[a._v("#")]),a._v(" 选择数据库")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("USE student;\n# use `数据库名称`\n")])])]),t("h4",{attrs:{id:"查看当前选中的数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前选中的数据库"}},[a._v("#")]),a._v(" 查看当前选中的数据库")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SELECT database();\n")])])]),t("h4",{attrs:{id:"数据库信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库信息"}},[a._v("#")]),a._v(" 数据库信息")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 查看当前库信息\n    SHOW CREATE DATABASE 数据库名\n-- 修改库的选项信息\n    ALTER DATABASE 库名 选项信息\n-- 删除库\n    DROP DATABASE[ IF EXISTS] 数据库名\n        同时删除该数据库相关的目录及其目录内容\n")])])]),t("h2",{attrs:{id:"用户管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[a._v("#")]),a._v(" 用户管理")]),a._v(" "),t("h4",{attrs:{id:"root密码重置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root密码重置"}},[a._v("#")]),a._v(" root密码重置")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('1. 停止MySQL服务\n2.  [Linux] /usr/local/mysql/bin/safe_mysqld --skip-grant-tables &\n    [Windows] mysqld --skip-grant-tables\n3. use mysql;\n4. UPDATE `user` SET PASSWORD=PASSWORD("密码") WHERE `user` = "root";\n5. FLUSH PRIVILEGES;\n用户信息表：mysql.user\n')])])]),t("h4",{attrs:{id:"增加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加用户"}},[a._v("#")]),a._v(" 增加用户")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE USER 用户名 IDENTIFIED BY [PASSWORD] 密码(字符串)\n    - 必须拥有mysql数据库的全局CREATE USER权限，或拥有INSERT权限。\n    - 只能创建用户，不能赋予权限。\n    - 用户名，注意引号：如 'user_name'@'192.168.1.1'\n    - 密码也需引号，纯数字密码也要加引号\n    - 要在纯文本中指定密码，需忽略PASSWORD关键词。要把密码指定为由PASSWORD()函数返回的混编值，需包含关键字PASSWORD\n")])])]),t("h4",{attrs:{id:"重命名用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重命名用户"}},[a._v("#")]),a._v(" 重命名用户")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("RENAME USER username TO newname;\n")])])]),t("h4",{attrs:{id:"设置密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置密码"}},[a._v("#")]),a._v(" 设置密码")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 设置当前用户密码\nSET PASSWORD = PASSWORD('密码');\n\n# 设置指定用户密码\nSET PASSWORD FOR 用户名=PASSWORD('密码');\n")])])]),t("h4",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[a._v("#")]),a._v(" 删除用户")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DROP USER 用户名;\n")])])]),t("h2",{attrs:{id:"权限管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限管理"}},[a._v("#")]),a._v(" 权限管理")]),a._v(" "),t("h4",{attrs:{id:"分配权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分配权限"}},[a._v("#")]),a._v(" 分配权限")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("GRANT 权限列表 ON 表名 TO 用户名 [IDENTIFIED BY [PASSWORD] 'password']\n    - all privileges 表示所有权限\n    - *.* 表示所有库的所有表\n    - 库名.表名 表示某库下面的某表\nGRANT ALL PRIVILEGES ON `pms`.* TO 'pms'@'%' IDENTIFIED BY 'pms0817';\n# IDENTIFIED BY 'pms0817' 设置用户密码，当用户不存在时创建用户\n")])])]),t("h4",{attrs:{id:"撤销权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#撤销权限"}},[a._v("#")]),a._v(" 撤销权限")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("REVOKE 权限列表 ON 表名 FROM 用户名\nREVOKE ALL PRIVILEGES, GRANT OPTION FROM 用户名   -- 撤销所有权限\n")])])]),t("h4",{attrs:{id:"刷新权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷新权限"}},[a._v("#")]),a._v(" 刷新权限")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("FLUSH PRIVILEGES;\n")])])]),t("h4",{attrs:{id:"查看权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看权限"}},[a._v("#")]),a._v(" 查看权限")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SHOW GRANTS FOR 用户名\n\n-- 查看当前用户权限\nSHOW GRANTS; 或 SHOW GRANTS FOR CURRENT_USER; 或 SHOW GRANTS FOR CURRENT_USER();\n")])])]),t("h4",{attrs:{id:"权限层级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限层级"}},[a._v("#")]),a._v(" 权限层级")]),a._v(" "),t("blockquote",[t("p",[a._v("要使用GRANT或REVOKE，必须拥有GRANT OPTION权限，并且必须用于您正在授予或撤销的权限。")])]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("全局层级：全局权限适用于一个给定服务器中的所有数据库，mysql.user\n    GRANT ALL ON *.*和 REVOKE ALL ON *.*只授予和撤销全局权限。\n数据库层级：数据库权限适用于一个给定数据库中的所有目标，mysql.db, mysql.host\n    GRANT ALL ON db_name.*和REVOKE ALL ON db_name.*只授予和撤销数据库权限。\n表层级：表权限适用于一个给定表中的所有列，mysql.talbes_priv\n    GRANT ALL ON db_name.tbl_name和REVOKE ALL ON db_name.tbl_name只授予和撤销表权限。\n列层级：列权限适用于一个给定表中的单一列，mysql.columns_priv\n    当使用REVOKE时，您必须指定与被授权列相同的列。\n    GRANT update(列名) ON TABLE db_name.tbl_name TO 用户名 和 REVOKE update(列名) ON TABLE db_name.tbl_name FROM 用户名\n")])])]),t("h4",{attrs:{id:"权限列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限列表"}},[a._v("#")]),a._v(" 权限列表")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALL [PRIVILEGES]    -- 设置除GRANT OPTION之外的所有简单权限\nALTER   -- 允许使用ALTER TABLE\nALTER ROUTINE   -- 更改或取消已存储的子程序\nCREATE  -- 允许使用CREATE TABLE\nCREATE ROUTINE  -- 创建已存储的子程序\nCREATE TEMPORARY TABLES     -- 允许使用CREATE TEMPORARY TABLE\nCREATE USER     -- 允许使用CREATE USER, DROP USER, RENAME USER和REVOKE ALL PRIVILEGES。\nCREATE VIEW     -- 允许使用CREATE VIEW\nDELETE  -- 允许使用DELETE\nDROP    -- 允许使用DROP TABLE\nEXECUTE     -- 允许用户运行已存储的子程序\nFILE    -- 允许使用SELECT...INTO OUTFILE和LOAD DATA INFILE\nINDEX   -- 允许使用CREATE INDEX和DROP INDEX\nINSERT  -- 允许使用INSERT\nLOCK TABLES     -- 允许对您拥有SELECT权限的表使用LOCK TABLES\nPROCESS     -- 允许使用SHOW FULL PROCESSLIST\nREFERENCES  -- 未被实施\nRELOAD  -- 允许使用FLUSH\nREPLICATION CLIENT  -- 允许用户询问从属服务器或主服务器的地址\nREPLICATION SLAVE   -- 用于复制型从属服务器（从主服务器中读取二进制日志事件）\nSELECT  -- 允许使用SELECT\nSHOW DATABASES  -- 显示所有数据库\nSHOW VIEW   -- 允许使用SHOW CREATE VIEW\nSHUTDOWN    -- 允许使用mysqladmin shutdown\nSUPER   -- 允许使用CHANGE MASTER, KILL, PURGE MASTER LOGS和SET GLOBAL语句，mysqladmin debug命令；允许您连接（一次），即使已达到max_connections。\nUPDATE  -- 允许使用UPDATE\nUSAGE   -- “无权限”的同义词\nGRANT OPTION    -- 允许授予权限\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);