(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{933:function(t,a,e){"use strict";e.r(a);var r=e(48),_=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http-缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-缓存"}},[t._v("#")]),t._v(" Http 缓存")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th"),t._v(" "),e("th",[t._v("强制缓存")]),t._v(" "),e("th",[t._v("协商缓存")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("缓存位置")]),t._v(" "),e("td",[t._v("本地浏览器")]),t._v(" "),e("td",[t._v("本地浏览器")])]),t._v(" "),e("tr",[e("td",[t._v("谁来决定")]),t._v(" "),e("td",[t._v("Pragma"),e("br"),t._v("Cache-Control"),e("br"),t._v("Expires")]),t._v(" "),e("td",[t._v("ETag/If-Not-Match"),e("br"),t._v("Last-Modified/If-Modified-Since")])])])]),t._v(" "),e("h3",{attrs:{id:"强制缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制缓存"}},[t._v("#")]),t._v(" 强制缓存")]),t._v(" "),e("p",[t._v("在缓存数据未失效的情况下，直接使用浏览器缓存，不会再向服务器发送任何请求。缓存生效时 http 状态码为 200。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/JankinWang/PicGo/main/4845448-217723260f75ed90.png",alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"协商缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),e("p",[t._v("第一次请求后，依然会向服务器发送请求进行协商。如果资源有更新，返回新资源和200状态码；若资源未修改或更新，则返回 304 状态码告诉浏览器使用缓存的数据。")]),t._v(" "),e("p",[t._v("(注： 强制缓存没过期时会直接使用缓存，不会再向浏览器发送请求。)")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/JankinWang/PicGo/main/4845448-a22cef109d00aa79.png",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"缓存安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存安全"}},[t._v("#")]),t._v(" 缓存安全")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=Mzk0MDMwMzQyOA==&mid=2247492849&idx=1&sn=e504a9c18fec71b9644820edf4d94f68&chksm=c2e111daf59698ccf7e546319df00e67dd9406f79477b43c089b38492b533c6ee61b9765e28d&token=1388359418&lang=zh_CN&mode=light#rd",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[t._v("为了防止中介缓存，建议设置："),e("code",[t._v("Cache-Control: private")])]),t._v(" "),e("li",[t._v("建议设置适当的二级缓存 key：如果我们请求的响应是跟请求的 "),e("code",[t._v("Cookie")]),t._v(" 相关的，建议设置："),e("code",[t._v("Vary: Cookie")])])])])}),[],!1,null,null,null);a.default=_.exports}}]);